[gd_scene load_steps=18 format=3 uid="uid://cjhqgtvl0c4r4"]

[ext_resource type="Script" uid="uid://br3bhxpyvy3lu" path="res://scripts/Room.gd" id="1_vlu1i"]
[ext_resource type="Script" uid="uid://bs8y8lrwcb8ml" path="res://scripts/CameraChangeObject.gd" id="2_traa5"]
[ext_resource type="PackedScene" uid="uid://bm52uvy24m11y" path="res://resources/Models/under_water_room_5_a_1.tscn" id="2_vlu1i"]
[ext_resource type="PackedScene" uid="uid://c2uxpo5fna1nn" path="res://scenes/Entities/CamPosNode.tscn" id="3_d1805"]
[ext_resource type="PackedScene" uid="uid://bd7icn4pwfdoi" path="res://scenes/Entities/Foliage.tscn" id="3_xliol"]
[ext_resource type="Texture2D" uid="uid://cealpeqkes7xo" path="res://resources/Textures/Sprites/SeaWeeds1_a1.png" id="4_traa5"]
[ext_resource type="Texture2D" uid="uid://cufcff04171uc" path="res://resources/Textures/Sprites/SeaWeeds1_b1.png" id="5_d1805"]
[ext_resource type="Texture2D" uid="uid://qh0vu3rhvrc7" path="res://resources/Textures/Sprites/SeaWeeds2_a1.png" id="6_y277l"]
[ext_resource type="Shader" uid="uid://d2mabvbt22cdl" path="res://resources/Shaders/VS_Foliage3D.tres" id="9_hemdi"]
[ext_resource type="Texture2D" uid="uid://dhvn8d5topyjo" path="res://resources/Textures/NormalMaps/7864-normal.jpg" id="10_0ra0t"]
[ext_resource type="Texture2D" uid="uid://chng0opds5tf2" path="res://resources/Textures/Sprites/Reeds2_b1.png" id="11_2xwjf"]

[sub_resource type="BoxShape3D" id="BoxShape3D_hk5uv"]
size = Vector3(0.5, 3, 11)

[sub_resource type="BoxShape3D" id="BoxShape3D_traa5"]
size = Vector3(18, 3, 0.5)

[sub_resource type="BoxShape3D" id="BoxShape3D_d1805"]
size = Vector3(18, 3, 0.5)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_oj8qs"]
render_priority = 0
shader = ExtResource("9_hemdi")
shader_parameter/sway_amount_x = 0.1
shader_parameter/sway_speed = 0.75
shader_parameter/sway_amount_z = 0.1
shader_parameter/WobbleRate = 3.8
shader_parameter/UVOffset1 = Vector2(0.32, 0.4)
shader_parameter/NormalMap = ExtResource("10_0ra0t")
shader_parameter/UVOffset2 = Vector2(0.32, 0.4)
shader_parameter/DistortionAmount = 0.003
shader_parameter/Texture = ExtResource("11_2xwjf")

[sub_resource type="PlaneMesh" id="PlaneMesh_vnvj2"]
material = SubResource("ShaderMaterial_oj8qs")
center_offset = Vector3(0, 1, 0)
orientation = 0

[sub_resource type="MultiMesh" id="MultiMesh_6dhq1"]
transform_format = 1
instance_count = 64
mesh = SubResource("PlaneMesh_vnvj2")
buffer = PackedFloat32Array(0.022252, 0.0457523, -0.107731, 4.80587, -0.0440021, 0.104886, 0.0354555, 0.566458, 0.108457, 0.0331662, 0.0364875, 4.8579, -0.240044, 0.230016, -0.877187, -4.01039, 0.0361862, 0.909105, 0.228483, 0.013621, 0.906121, 0.0246291, -0.241504, -4.31534, 0.162943, -0.0903175, -0.542174, 3.40076, -0.150844, 0.536436, -0.134696, 0.741949, 0.528541, 0.180941, 0.128704, 4.83511, 0.648098, -0.00649906, -0.527615, 3.8434, 0.19688, 0.778298, 0.232251, 0.666314, 0.489549, -0.304401, 0.605089, 5.51953, 0.239166, 0.0382787, 0.0282305, 4.00202, -0.0218372, 0.216952, -0.109169, 0.661459, -0.0422535, 0.104544, 0.216213, 5.08958, -0.0324101, -0.00720367, -0.0135802, 3.38334, -0.00789552, 0.0349902, 0.00028257, 0.743367, 0.0131899, 0.00324442, -0.0331999, 4.96997, 0.0551147, 0.0115995, 0.0729526, -3.98284, 0.00849101, 0.0894228, -0.0206331, -0.0625952, -0.0733794, 0.0190597, 0.0524066, -5.14525, -0.304838, -0.0885743, -0.643101, 1.40682, -0.229111, 0.679436, 0.0150227, 0.963462, 0.607398, 0.21183, -0.31709, 5.96765, -0.0394937, -0.039377, -0.14383, -4.47476, 0.0242844, 0.145104, -0.046394, 0.000936268, 0.147132, -0.0345194, -0.0309499, -4.45108, 0.191437, 0.0973298, -0.0286314, -3.88058, -0.0769798, 0.179179, 0.0943938, -0.134782, 0.0660829, -0.0732324, 0.192902, -5.93167, -0.0118813, -0.00934301, -0.0511717, -6.15781, -0.00495134, 0.0524544, -0.00842757, -0.0152936, 0.0517815, 0.00287193, -0.0125472, -4.61923, 0.455311, 0.151222, -0.317074, 3.38844, -0.216727, 0.529428, -0.0587162, 0.728043, 0.276465, 0.165983, 0.47616, 5.43044, 0.193243, 0.157303, -0.267945, -2.94051, -0.0732068, 0.329708, 0.140766, -0.0999678, 0.301959, -0.0207341, 0.205602, -5.73085, 0.0757048, 0.141122, -0.252537, 3.11629, -0.105764, 0.256471, 0.111615, 0.775712, 0.269266, 0.061062, 0.114842, 4.8926, 0.414463, -0.093554, -0.00471733, -5.42489, 0.0934777, 0.414455, -0.00655018, -0.025563, 0.00604335, 0.00535127, 0.42484, -4.73475, -0.659634, -0.062583, -0.247251, 3.81331, -0.166344, 0.625282, 0.285516, 0.699886, 0.193338, 0.324458, -0.597925, 3.35567, 0.0554331, 0.0193459, -0.0752373, 4.83149, 0.009397, 0.0900794, 0.0300858, 0.563468, 0.0771143, -0.0248836, 0.0504176, 4.84947, 0.733926, 0.00203001, 0.150661, 5.90208, -0.000288826, 0.749182, -0.00868748, 0.447581, -0.150675, 0.0084519, 0.733877, 3.82291, 0.73418, 0.397577, -0.0639204, 5.3247, -0.402289, 0.730041, -0.0798582, 0.517016, 0.0178116, 0.100727, 0.83109, 3.75583, 0.28301, -0.0545226, 0.555215, -3.72312, -0.0581871, 0.61629, 0.0901798, -0.0968298, -0.554843, -0.0924415, 0.273742, -5.51928, 0.00693031, -0.00158794, 0.00122415, 5.65543, 0.00182877, 0.00681206, -0.00151681, 0.447486, -0.000822008, 0.00176736, 0.00694622, 5.12666, 0.604701, -0.00196335, 0.216234, 3.83738, 0.0622362, 0.616585, -0.168446, 0.687779, -0.207094, 0.179565, 0.580769, 4.94721, -0.147702, 0.0171732, -0.468915, -4.09656, 0.116052, 0.477661, -0.0190612, -0.037279, 0.454651, -0.116346, -0.14747, -4.86905, -0.367659, 0.275584, -0.778387, 1.2506, -0.344293, 0.723297, 0.418701, 0.99314, 0.75053, 0.4668, -0.189233, 5.70246, 0.115589, -0.062885, -0.145084, -2.95082, 0.0237265, 0.184577, -0.0610998, 0.107496, 0.156336, 0.0184825, 0.116543, -3.71058, 0.418596, 0.0916238, -0.383493, 5.66919, -0.190424, 0.536735, -0.0796181, 0.437015, 0.345254, 0.184947, 0.421044, 5.36737, 0.349351, -0.0159533, 0.220136, 5.27269, 0.0484455, 0.407643, -0.0473401, 0.51817, -0.215331, 0.0658297, 0.346496, 4.533, 0.248133, 0.118353, -0.311251, 5.27411, -0.212496, 0.355132, -0.0343656, 0.495375, 0.256378, 0.1798, 0.272757, 5.15847, 0.0150831, -0.0168875, -0.078159, -3.32524, 0.0290732, 0.075252, -0.0106489, -0.169488, 0.07449, -0.0259511, 0.0199822, -6.31233, 0.00123575, 0.016583, -0.283705, 5.07813, -0.0819819, 0.271667, 0.0155223, 0.505369, 0.272108, 0.081774, 0.00596503, 5.57917, 0.480256, 0.218487, -0.522739, 4.87664, -0.268425, 0.691229, 0.0422995, 0.567668, 0.49894, 0.16157, 0.525922, 4.35759, 0.229731, 0.0779708, -0.103518, 3.72535, -0.107957, 0.231696, -0.0650673, 0.66474, 0.0716976, 0.0990409, 0.233713, 5.98298, 0.661521, 0.126708, 0.64468, -4.61139, -0.0183404, 0.918053, -0.161619, 0.0409409, -0.656758, 0.10199, 0.653869, -4.01486, 0.150073, -0.0310551, -0.0666062, -4.8448, 0.00996461, 0.158648, -0.051518, -0.102444, 0.0728115, 0.0422963, 0.144334, -5.57471, -0.726934, -0.226836, 0.0602019, -3.31113, -0.228216, 0.728935, -0.00912065, -0.0133764, -0.0547395, -0.0266654, -0.761449, -4.76835, 0.416549, 0.0880261, -0.322021, 5.72879, 0.0378097, 0.49917, 0.18536, 0.46758, 0.331687, -0.167449, 0.38328, 3.97298, 0.232552, -0.0464393, -0.229549, -6.3829, -0.0280989, 0.315623, -0.092319, 0.0305377, 0.232508, 0.0845916, 0.218436, -4.11912, 0.285948, -0.0894153, -0.122624, -4.29754, 0.138431, 0.260878, 0.132581, 0.0421996, 0.0621987, -0.169546, 0.268671, -4.00275, 0.197529, 0.029517, 0.468508, -4.73435, 0.0125169, 0.507783, -0.0372687, -0.100243, -0.46927, 0.0259687, 0.196214, -5.55131, 0.70215, -0.0219643, -0.211559, 4.19171, 0.0232975, 0.733286, 0.00119179, 0.654079, 0.211416, -0.00785869, 0.702492, 3.46053, -0.139627, -0.257006, -0.922361, -5.82243, -0.218354, 0.916102, -0.222207, 0.00587283, 0.932267, 0.176076, -0.190188, -4.39049, 0.135704, 0.0644411, 0.0863949, -4.51787, -0.0832456, 0.150901, 0.0182016, 0.0205286, -0.0684609, -0.0557536, 0.149121, -4.23756, 0.0740814, 0.0278669, -0.0172147, -4.05013, -0.0279995, 0.0759661, 0.00248021, 0.0318142, 0.0169982, 0.00368229, 0.0791105, -4.11707, 0.0821971, -0.000351615, -0.216895, 6.25456, 0.0708814, 0.219255, 0.0265066, 0.38256, 0.204986, -0.0756747, 0.0778066, 4.7913, -0.000152594, 0.000828312, -0.00326378, 5.16087, 8.76317e-06, 0.00326722, 0.000828774, 0.481539, 0.00336724, 2.9034e-05, -0.000150062, 5.94397, -0.0256539, -0.366406, -0.912807, -4.15376, 0.0662613, 0.910399, -0.367302, -0.114503, 0.981366, -0.0710478, 0.000938324, -5.7095, -0.750695, 0.30799, 0.476624, -3.26327, 0.26466, 0.889183, -0.157736, 0.0569819, -0.50198, 0.00821625, -0.79594, -4.09992, 0.249156, -0.110299, 0.246659, -4.86895, 0.0283855, 0.34435, 0.125311, -0.0803515, -0.268702, -0.065899, 0.241954, -5.33406, -0.155079, 0.149895, -0.368481, 3.32916, -0.00441049, 0.394819, 0.162465, 0.752212, 0.397778, 0.0628161, -0.141856, 4.49259, 0.571991, -0.0423565, -0.737317, 2.41468, 0.0227004, 0.933163, -0.0359968, 0.858574, 0.738183, 0.00412409, 0.572426, 5.11715, -0.791082, 0.405809, -0.317003, 4.71194, 0.422852, 0.843547, 0.0246299, 0.591998, 0.293883, -0.121368, -0.888754, 3.4235, 0.439182, 0.163996, -0.747776, -4.55069, 0.0577669, 0.852533, 0.220898, -0.101357, 0.763365, -0.158865, 0.413497, -5.56436, 0.0314003, -0.210295, -0.778921, -3.82604, 0.420226, 0.669691, -0.163864, -0.030763, 0.688732, -0.399021, 0.135493, -4.79949, 0.487292, -0.156795, -0.651336, -2.38537, 0.0891342, 0.813424, -0.129129, 0.200888, 0.663987, 0.00587525, 0.495342, -2.98677, 0.44382, 0.118581, 0.129124, 5.77521, -0.129754, 0.458536, 0.0248878, 0.463517, -0.117892, -0.0582579, 0.458714, 3.67091, 0.0433797, 0.0225923, -0.0773866, 5.75211, -0.00125037, 0.0880569, 0.0250065, 0.465838, 0.0806073, -0.0107924, 0.0420343, 3.76069, -0.566647, 0.274654, -0.650343, 2.88466, 0.259195, 0.856627, 0.135935, 0.804297, 0.656658, -0.10112, -0.614854, 4.71827, -0.00817121, -0.00614288, -0.0254155, -3.30422, 0.00104278, 0.0265299, -0.00674748, 0.0484466, 0.0261265, -0.0029801, -0.00767953, -4.16956, -0.366231, -0.174295, -0.366653, 4.42365, 0.00175697, 0.493114, -0.236166, 0.620314, 0.405968, -0.159369, -0.329742, 4.67545, -0.800419, 0.291255, -0.369363, 4.01903, 0.347357, 0.857566, -0.0765106, 0.674275, 0.317179, -0.204159, -0.84832, 3.55583, 0.157744, 0.130971, -0.383373, 5.72421, 0.0769208, 0.394243, 0.166335, 0.468455, 0.397758, -0.128182, 0.119872, 3.90661, -0.0596768, -0.0766398, -0.443144, 6.55947, 0.0747976, 0.43911, -0.086015, 0.351023, 0.443458, -0.0843778, -0.0451264, 4.57905, 0.134643, -0.183661, -0.509698, -3.82747, -0.0887578, 0.510628, -0.207443, -0.127368, 0.534458, 0.131069, 0.0939554, -5.85122, 0.0655625, -0.0127581, -0.182429, -5.4946, -0.0498537, 0.185211, -0.0308694, 0.0302081, 0.175948, 0.0572324, 0.0592308, -4.12722)

[node name="Room5_a1" type="Node3D"]
script = ExtResource("1_vlu1i")

[node name="RoomChangers" type="Node3D" parent="."]

[node name="RoomChangeCollider_N" type="StaticBody3D" parent="RoomChangers" node_paths=PackedStringArray("trigger_on_interact")]
transform = Transform3D(1, 0, -1.74846e-07, 0, 1, 0, 1.74846e-07, 0, 1, 0, 0, 0)
script = ExtResource("2_traa5")
isRoomChanger = true
trigger_on_interact = [NodePath("../../CameraNodes/CameraNode_N")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="RoomChangers/RoomChangeCollider_N"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.25, 1.5, 0)
shape = SubResource("BoxShape3D_hk5uv")
debug_color = Color(1, 0.796078, 0.0235294, 1)

[node name="RoomChangeCollider_W" type="StaticBody3D" parent="RoomChangers" node_paths=PackedStringArray("trigger_on_interact")]
transform = Transform3D(1.31134e-07, 0, 1, 0, 1, 0, -1, 0, 1.31134e-07, 0, 0, 0)
script = ExtResource("2_traa5")
isRoomChanger = true
trigger_on_interact = [NodePath("../../CameraNodes/CameraNode_W")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="RoomChangers/RoomChangeCollider_W"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.25, 1.5, 0)
shape = SubResource("BoxShape3D_hk5uv")
debug_color = Color(1, 0.796078, 0.0235294, 1)

[node name="CameraChangers" type="Node3D" parent="."]

[node name="CameraChanger2a" type="StaticBody3D" parent="CameraChangers" node_paths=PackedStringArray("trigger_on_interact")]
transform = Transform3D(-0.707107, 0, -0.707107, 0, 1, 0, 0.707107, 0, -0.707107, 0, 0, 0)
script = ExtResource("2_traa5")
trigger_on_interact = [NodePath("../../CameraNodes/CameraNode_W")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="CameraChangers/CameraChanger2a"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1.5, -0.25)
shape = SubResource("BoxShape3D_traa5")
debug_color = Color(1, 0.772549, 0.560784, 1)

[node name="CameraChanger2b" type="StaticBody3D" parent="CameraChangers" node_paths=PackedStringArray("trigger_on_interact")]
transform = Transform3D(-0.707107, 0, -0.707107, 0, 1, 0, 0.707107, 0, -0.707107, 0, 0, 0)
script = ExtResource("2_traa5")
trigger_on_interact = [NodePath("../../CameraNodes/CameraNode_N")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="CameraChangers/CameraChanger2b"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1.5, 0.25)
shape = SubResource("BoxShape3D_d1805")
debug_color = Color(1, 0.772549, 0.560784, 1)

[node name="CameraNodes" type="Node3D" parent="."]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 0, 0, 0)

[node name="CameraNode_N" parent="CameraNodes" instance=ExtResource("3_d1805")]
transform = Transform3D(0.866025, 0, -0.5, 0, 1, 0, 0.5, 0, 0.866025, -7.43286, 1.31898, -0.5477)
min_h_rotation = -100.0
max_h_rotation = 90.0

[node name="TestCamera3D" type="Camera3D" parent="CameraNodes/CameraNode_N"]
visible = false

[node name="CameraNode_W" parent="CameraNodes" instance=ExtResource("3_d1805")]
transform = Transform3D(0.258819, 0, -0.965926, 0, 1, 0, 0.965926, 0, 0.258819, -0.47629, 1.16639, 5.94119)
min_h_rotation = -100.0
max_h_rotation = 90.0

[node name="TestCamera3D" type="Camera3D" parent="CameraNodes/CameraNode_W"]
visible = false

[node name="UnderWaterRoom5_a1" parent="." instance=ExtResource("2_vlu1i")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)

[node name="Foliage" parent="UnderWaterRoom5_a1" instance=ExtResource("3_xliol")]
transform = Transform3D(-6.10923e-08, 0, 1.41973, 0, 1.61444, 0, -1.39763, 0, -6.20584e-08, 5.95928, 0.0484384, -5.74885)
foliage_Texture = ExtResource("4_traa5")

[node name="Foliage4" parent="UnderWaterRoom5_a1" instance=ExtResource("3_xliol")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -0.633626, 0.0813696, 2.56391)
foliage_Texture = ExtResource("4_traa5")

[node name="Foliage8" parent="UnderWaterRoom5_a1" instance=ExtResource("3_xliol")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 4.08012, 0.0441929, 5.73118)
foliage_Texture = ExtResource("4_traa5")
meshOffset = Vector3(0, 2.05, 0)
meshScale = Vector3(2, 4.68, 2)

[node name="Foliage2" parent="UnderWaterRoom5_a1" instance=ExtResource("3_xliol")]
transform = Transform3D(-0.935098, 0, 0.354389, 0, 1, 0, -0.354389, 0, -0.935098, 0.780797, 1.29106, -5.44765)
foliage_Texture = ExtResource("5_d1805")
meshOffset = Vector3(0, 1.3, 0)
meshScale = Vector3(1, 2.665, 1)

[node name="Foliage3" parent="UnderWaterRoom5_a1" instance=ExtResource("3_xliol")]
transform = Transform3D(0.83455, 0, -0.550932, 0, 1.88495, 0, 0.550932, 0, 0.83455, 0.195009, 0.907699, -1.21055)
foliage_Texture = ExtResource("5_d1805")
meshScale = Vector3(1, 2.02, 1)

[node name="Foliage5" parent="UnderWaterRoom5_a1" instance=ExtResource("3_xliol")]
transform = Transform3D(-0.996403, 0, -0.0847392, 0, 1.91179, 0, 0.0847392, 0, -0.996403, -1.19185, 0.444188, -0.00510506)
foliage_Texture = ExtResource("5_d1805")
meshScale = Vector3(1, 2.02, 1)

[node name="Foliage6" parent="UnderWaterRoom5_a1" instance=ExtResource("3_xliol")]
transform = Transform3D(0.83455, 0, -0.550932, 0, 1.91179, 0, 0.550932, 0, 0.83455, -5.96242, 0.295263, -5.60216)
foliage_Texture = ExtResource("5_d1805")
meshScale = Vector3(1, 2.02, 1)

[node name="Foliage7" parent="UnderWaterRoom5_a1" instance=ExtResource("3_xliol")]
transform = Transform3D(0.127367, 0, -2.01461, 0, 1.50104, 0, 1.75494, 0, 0.146213, -1.78864, -0.070428, 8.75303)
foliage_Texture = ExtResource("5_d1805")
meshScale = Vector3(1, 2.02, 1)

[node name="Foliage9" parent="UnderWaterRoom5_a1" instance=ExtResource("3_xliol")]
transform = Transform3D(0.127367, 0, -2.01461, 0, 1.50104, 0, 1.75494, 0, 0.146213, -0.0830032, 3.20262, -8.48853)
foliage_Texture = ExtResource("5_d1805")
meshScale = Vector3(1, 2.02, 1)

[node name="Foliage10" parent="UnderWaterRoom5_a1" instance=ExtResource("3_xliol")]
transform = Transform3D(-1.58351, 0, 0.880681, 0, 1.50104, 0, -0.767167, 0, -1.81781, -3.21, 2.55295, -1.34835)
foliage_Texture = ExtResource("6_y277l")
meshScale = Vector3(1, 2.02, 1)

[node name="Foliage11" parent="UnderWaterRoom5_a1" instance=ExtResource("3_xliol")]
transform = Transform3D(-1.58351, 0, 0.880681, 0, 1.50104, 0, -0.767167, 0, -1.81781, -2.94587, 2.42969, 1.86178)
foliage_Texture = ExtResource("6_y277l")
meshScale = Vector3(1, 2.02, 1)

[node name="MultiMeshInstance3D" type="MultiMeshInstance3D" parent="."]
multimesh = SubResource("MultiMesh_6dhq1")

[editable path="UnderWaterRoom5_a1"]
